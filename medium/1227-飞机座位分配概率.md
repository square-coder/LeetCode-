## 信息卡片
* 题目来源：[飞机座位分配概率](https://leetcode-cn.com/problems/airplane-seat-assignment-probability/)
* 时间：2019-11-30



## 题目描述
有 n 位乘客即将登机，飞机正好有 n 个座位。第一位乘客的票丢了，他随便选了一个座位坐下。

剩下的乘客将会：

如果他们自己的座位还空着，就坐到自己的座位上，

当他们自己的座位被占用时，随机选择其他座位
第 n 位乘客坐在自己的座位上的概率是多少？

>**示例 1：** <br>
输入：n = 1 <br>
输出：1.00000 <br>
解释：第一个人只会坐在自己的位置上。 <br>
>**示例 2：** <br>
输入: n = 2 <br>
输出: 0.50000 <br>
解释：在第一个人选好座位坐下后，第二个人坐在自己的座位上的概率是 0.5。

## 个人解法
```c
double nthPersonGetsNthSeat(int n){
    if(n == 1)
        return 1;
    else
        return 0.5;
}
``` 



## 点评
这其实是一道数学题，令f(i)表示第一个人选择位置i后，位置n被别人占据的概率（也就是失败的概率）。显然f(n)=1, f(n-1)=1/2。

因为若第一个人选择位置n-1，则2\~n-2的人都会坐在自己的位置上，第n-1个人只有两种选择，1或者n；同理，若第一个人选择位置n-2，则2\~n-3的人没有区别，
第n-2个人有三种选择，1，n-1，n。若选择n-1，则此时的情况和第一个人直接选择n-1的情况相同，于是有：f(n-2)=1/3(f(n)+f(n-1))。

事实上，我们有递推关系：
$$ f(i)=\frac{1}{n-i+1}\sum_{k=i+1}^{n}f(k) $$
经过计算发现，f(i)=0.5，当i>1时。
